{% load django_bootstrap5 %} {% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>{% block title %}Sahmyook CSDC{% endblock title %}</title>
    {% bootstrap_css %}
    <link rel="stylesheet" href="{% static 'css/mystyle.css' %}" />
    {% bootstrap_javascript %}
    <style>
      @import url(https://cdn.jsdelivr.net/gh/moonspam/NanumSquare@1.0/nanumsquare.css);
      @import url(//fonts.googleapis.com/earlyaccess/notosanskr.css);
    </style>
  </head>
  <body class="d-flex flex-column min-vh-100">
    <!-- 네비게이션 바, 로고 등 헤더 내용 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="https://www.syu.ac.kr/">Sahmyook UNIV</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <button class="nav-link btn btn-link active" onclick="location.href='/'">Home</button>
            </li>
            <li class="nav-item dropdown">
              <button
                class="nav-link btn btn-link dropdown-toggle active"
                id="navbarDropdown"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Book
              </button>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="{% url 'report:book_request' %}">도서 신청</a></li>
                <li><a class="dropdown-item" href="{% url 'report:book_list' %}">신청 도서 목록</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <button
                class="nav-link btn btn-link dropdown-toggle active"
                id="navbarDropdown"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Mentorship
              </button>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="{% url 'mentorship:create_mentorship_request' %}">멘토쉽 신청</a></li>
                <li><a class="dropdown-item" href="{% url 'mentorship:list_mentorships' %}">멘토쉽 현황 게시판</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <button
                class="nav-link btn btn-link dropdown-toggle active"
                id="navbarDropdown"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Report
              </button>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="{% url 'report:report_create' %}">레포트 작성</a></li>
                <li><a class="dropdown-item" href="{% url 'report:report_list' %}">레포트 목록</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <button
                class="nav-link btn btn-link dropdown-toggle active"
                id="navbarDropdown"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Post
              </button>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="{% url 'posts:post_list' %}">자유게시판</a></li>
              </ul>
            </li>
          </ul>

          <!-- 로그인/로그아웃 항목을 오른쪽으로 정렬 -->
          <!-- 이전에 중첩된 <ul> 태그를 제거하고 ms-auto를 바깥쪽 <ul> 태그에 직접 적용 -->
          <ul class="navbar-nav ms-auto">
            {% if user.is_authenticated %}
            <li class="nav-item">
              <form action="{% url 'user:logout' %}" method="post">
                {% csrf_token %}
                <input type="hidden" name="next" value="{{ request.path }}" />
                <button type="submit" class="nav-link btn btn-link">Logout</button>
              </form>
            </li>
            {% else %}
            <li class="nav-item">
              <a class="nav-link" href="{% url 'user:login' %}">Sign In</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'user:register' %}">Sign Up</a>
            </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>
    <div id="holder">
      <style>
        .bg-light {
          background-color: #f7f6f6 !important;
        }
        #holder {
          position: relative;
          height: 500px;
          background-color: black;
        }
        #msg {
          position: absolute;
          color: white;
          font-weight: bold;
          font-size: 40px;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          font-family: "NanumSquare", sans-serif;
        }
      </style>
      <div id="msg">T E S T</div>
    </div>

    <main role="main">{% block content %} {% endblock %}</main>
    <div class="footer">
      <div class="flex-1">
        <span class="logo">© 2024 CSDC.</span>
          <ul class="flex-2">
            {% if user.is_authenticated %}
            <li class="nav-item">
              <form action="{% url 'user:logout' %}" method="post" style="display: inline">
                {% csrf_token %}
                <input type="hidden" name="next" value="{{ request.path }}" />
                <button type="submit" class="nav-link btn btn-link" style="color: black">Logout</button>
              </form>
            </li>
            {% else %}
            <li class="nav-item">
              <button class="nav-link btn btn-link active" onclick="location.href='/users/login'" style="color: black">Sign In</button>
            </li>
            <li class="nav-item">
              <button class="nav-link btn btn-link active" onclick="location.href='/users/register'" style="color: black">Sign Up</button>
            </li>
            {% endif %}
          </ul>
        </div>
    </div>
    <div class="sponsor">
      <span class="sponsor-text">Powered by</span>
      <div class="sponsor-img-cloud">
        <img src="https://t1.kakaocdn.net/kakaoicloud/portal/images/logo_black_230116.png" width="160" />
      </div>
      <!-- <div class="sponsor-img-school">
        <img src="https://www.syu.ac.kr/wp-content/uploads/2018/05/pg_logo4.png" width="160" />
      </div> -->
    </div>
    <style>
      .footer {
        display: flex;
        justify-content: center;
        padding-inline: 40px;
        font-size: 15pt;
        font-weight: 300;
        font-family: "Noto Sans KR", serif;
      }

      @media (width < 768px) {
        .footer {
          flex-direction: column-reverse;
        }
      }

      .logo {
        font-weight: bold;
      }

      ul {
        list-style: none;
      }

      .flex-1 {
        display: flex;
        justify-content: center;
        padding: 5px;
      }

      .flex-2 {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
      }

      .flex-2 > li {
        margin-inline: 10px;
      }

      .sponsor {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        padding-block: 20px;
        font-size: 15pt;
        font-weight: 300;
        font-family: "Noto Sans KR", serif;
      }

      .sponsor-img-cloud {
        padding-inline: 6px;
        max-width: 131px;
        overflow: hidden;
      }

      .sponsor-img-school {
        padding-inline: 4px;
        max-width: 144px;
        overflow: hidden;
      }

      .sponsor img {
        display: flex;
        flex-wrap: wrap;
        max-width: initial;
      }
    </style>
    <!-- <footer class="mt-auto">
      <div class="container-fluid dark bg-dark" style="padding: 1rem; text-align: center">
        <ul class="nav justify-content-center border-bottom pb-3 mb-3">
          <li class="nav-item">
            <button class="nav-link btn btn-link active" onclick="location.href='/'" style="color: white">Home</button>
          </li>
          {% if user.is_authenticated %}
          <li class="nav-item">
            <form action="{% url 'user:logout' %}" method="post" style="display: inline">
              {% csrf_token %}
              <input type="hidden" name="next" value="{{ request.path }}" />
              <button type="submit" class="nav-link btn btn-link" style="color: white">Logout</button>
            </form>
          </li>
          {% else %}
          <li class="nav-item">
            <button class="nav-link btn btn-link active" onclick="location.href='/users/login'" style="color: white">Sign In</button>
          </li>
          <li class="nav-item">
            <button class="nav-link btn btn-link active" onclick="location.href='/users/register'" style="color: white">Sign Up</button>
          </li>
          {% endif %}
        </ul>
        <p class="text-center text-muted" style="margin-bottom: 0; font-size: 0.8rem">© 2024 SahmyookUNIV CSDC 김민성</p>
      </div>
    </footer> -->
  </body>
  <script src="{% static 'js/effect.js' %}"></script>
</html>
