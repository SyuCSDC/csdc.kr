{% extends 'base.html' %}
{% block content %}
<script>
    document.getElementById('msg').innerHTML="<span>도서 목록</span>"
</script>
<div class="container" style="padding: 50px;">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">번호</th>
                <th scope="col">제목</th>
                <th scope="col">저자</th>
                <th scope="col">신청자</th>
                <th scope="col">필요권수</th>
                <th scope="col">관리</th> 
            </tr>
        </thead>
        <tbody>
            {% for book in books %}
            <tr>
                    <th scope="row">{{ forloop.counter }}</th> 
                    <td>{{ book.title }}</td>
                    <td>{{ book.author }}</td>
                    <td>{{ book.requester.last_name }}{{ book.requester.first_name }}</td>
                    <td>{{ book.needed_copies }}</td>
                    <td>
                        {% if book.requester == request.user %}
                            <a href="{% url 'report:book_update' pk=book.pk %}" role="button" class="btn btn-primary ">수정하기</a>
                        {% endif %}
                    </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
